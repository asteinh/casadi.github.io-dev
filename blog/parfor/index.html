

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    
      <title>CasADi - Blog</title>
    

    
    <link href="https://asteinh.github.io/casadi.github.io-dev/_css/font-awesome.min.css" rel="stylesheet">

    
    <link href="https://asteinh.github.io/casadi.github.io-dev/_css/bootstrap.min.css" rel="stylesheet">

    
    <link href="https://asteinh.github.io/casadi.github.io-dev/_css/pygments-default.css" rel="stylesheet">

    
    <link href="https://asteinh.github.io/casadi.github.io-dev/_css/casadi-theme.min.css" rel="stylesheet">

    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ['\\(','\\)'] ],
          displayMath: [ ['$$','$$'], ['\\[','\\]'] ],
          processEnvironments: false
        }
      });
    </script>

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  </head>

  <body>



<nav class="navbar fixed-top navbar-expand-lg nav-top">
  <div class="container">
    <a class="navbar-brand" href="https://asteinh.github.io/casadi.github.io-dev/"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <i class="fa fa-bars" aria-hidden="true"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/casadi.github.io-dev/">Home</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/casadi.github.io-dev/get/">Try/Install</a>
          </li>
        
          
          <li class="nav-item active">
          
            <a class="nav-link" href="/casadi.github.io-dev/blog/">Blog</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/casadi.github.io-dev/docs/">Docs</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/casadi.github.io-dev/events/">Workshops</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/casadi.github.io-dev/support/">Support</a>
          </li>
        
          
          <li class="nav-item">
          
            <a class="nav-link" href="/casadi.github.io-dev/about/">About</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>


<div id="main" class="container">
  <div class="row">
    <div class="col">

      <p>In this post we'll explore how to use Matlab's parfor with a CasADi nonlinear program.</p>
<p>The nonlinear program (NLP) of interest is the following:
$$
\begin{align}
\displaystyle \underset{x,y}
{\text{minimize}}\quad &amp;\displaystyle (1-x)^2+(y-x^2)^2 \newline
\text{subject to} , \quad &amp; x^2+y^2 \leq r
\end{align}
$$</p>
<p>Note that $r$ is a free parameter.
Our goal is to collect each solution of the NLP as we loop over $r$.
We could imagine performing such task when tracing a pareto front of a multi-objective optimization, for which the parameter would be the a weight to combine those objectives.</p>
<h1 id="problem-construction-inside-the-loop">Problem construction inside the loop</h1>
<p>The first way to work with parfor and CasADi is to do the problem construction entirely in the loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-octave" data-lang="octave">N = <span style="color:#ae81ff">250</span>;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>fsol = zeros(<span style="color:#ae81ff">1</span>,N);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>rs = linspace(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,N);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>parfor i=<span style="color:#ae81ff">1</span>:N<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  r = rs(i);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  x = casadi.SX.sym(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x&#39;</span>);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  y = casadi.SX.sym(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">y&#39;</span>);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  v = [x;y];<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  f = (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>x)^<span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>(y<span style="color:#f92672">-</span>x^<span style="color:#ae81ff">2</span>)^<span style="color:#ae81ff">2</span>;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  g = x^<span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>y^<span style="color:#ae81ff">2</span>;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  nlp = struct(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x&#39;</span>, v, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">f&#39;</span>, f, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">g&#39;</span>, g);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#75715e">% Create IPOPT solver object</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  solver = casadi.nlpsol(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">solver&#39;</span>, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">ipopt&#39;</span>, nlp);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#75715e">% Solve the NLP</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  res = solver(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x0&#39;</span> , [<span style="color:#ae81ff">2.5</span> <span style="color:#ae81ff">3.0</span>],...      <span style="color:#75715e">% solution guess</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lbx&#39;</span>, <span style="color:#f92672">-</span>inf,...           <span style="color:#75715e">% lower bound on x</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">ubx&#39;</span>,  inf,...           <span style="color:#75715e">% upper bound on x</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lbg&#39;</span>, <span style="color:#f92672">-</span>inf,...           <span style="color:#75715e">% lower bound on g</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">ubg&#39;</span>,  r);               <span style="color:#75715e">% upper bound on g</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#75715e">% Store the solution</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  fsol(i) = full(res.f);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">end</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>plot(rs,fsol,<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">o&#39;</span>)<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>We obtain a nice plot:</p>
<figure class=" default">
  <a href="https://asteinh.github.io/casadi.github.io-dev/blog/parfor/parfor1.png" target="_blank">
<pre><code>&lt;img src=&quot;https://asteinh.github.io/casadi.github.io-dev/blog/parfor/parfor1.png&quot;  /&gt;
</code></pre>
  </a>
  <figcaption>
    <h1>NLP solution objective for different values of r</h1>
  </figcaption>
</figure>
<p>Download code: <a href="casadi_parfor1.m">casadi_parfor1.m</a></p>
<h1 id="problem-construction-outside-the-loop">Problem construction outside the loop</h1>
<p>Constructing CasADi expressions and Functions incurs an initialization cost.
Therefore, we always advise to construct the solver fully outside of the loop,
and simply make numerical calls to it in the loop.</p>
<p>This advice collided with our limited support for parfor so far.
CasADi 3.5 comes with improved support.
The loop body may now contain numerical calls to CasADi Functions defined outside that loop:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-octave" data-lang="octave">x = casadi.SX.sym(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x&#39;</span>);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>y = casadi.SX.sym(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">y&#39;</span>);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>v = [x;y];<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>f = (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>x)^<span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>(y<span style="color:#f92672">-</span>x^<span style="color:#ae81ff">2</span>)^<span style="color:#ae81ff">2</span>;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>g = x^<span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>y^<span style="color:#ae81ff">2</span>;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>nlp = struct(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x&#39;</span>, v, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">f&#39;</span>, f, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">g&#39;</span>, g);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e">% Create IPOPT solver object</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>solver = casadi.nlpsol(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">solver&#39;</span>, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">ipopt&#39;</span>, nlp);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>tic<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>parfor i=<span style="color:#ae81ff">1</span>:N<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#75715e">% Solve the NLP</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  res = solver(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x0&#39;</span> , [<span style="color:#ae81ff">2.5</span> <span style="color:#ae81ff">3.0</span>],...      <span style="color:#75715e">% solution guess</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lbx&#39;</span>, <span style="color:#f92672">-</span>inf,...           <span style="color:#75715e">% lower bound on x</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">ubx&#39;</span>,  inf,...           <span style="color:#75715e">% upper bound on x</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">lbg&#39;</span>, <span style="color:#f92672">-</span>inf,...           <span style="color:#75715e">% lower bound on g</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">ubg&#39;</span>,  rs(i));           <span style="color:#75715e">% upper bound on g</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  <span style="color:#75715e">% Store the solution</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  fsol(i) = full(res.f);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">end</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>toc<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>plot(rs,fsol,<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">o&#39;</span>)<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Download code: <a href="casadi_parfor2.m">casadi_parfor2.m</a></p>
<p>Note 1: for this example the parameter entered trivially through &lsquo;ubg&rsquo;.
In general, you may need to work with a parametric NLP:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-octave" data-lang="octave">p = casadi.SX.sym(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">p&#39;</span>);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>g = x^<span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>y^<span style="color:#ae81ff">2</span><span style="color:#f92672">-</span>p;<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>nlp = struct(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x&#39;</span>, v, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">p&#39;</span>, p, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">f&#39;</span>, f, <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">g&#39;</span>, g);<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>  res = solver(<span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x0&#39;</span> , [<span style="color:#ae81ff">2.5</span> <span style="color:#ae81ff">3.0</span>],...      <span style="color:#75715e">% solution guess</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               ...<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span>               <span style="color:#e6db74">&#39;</span><span style="color:#e6db74">p&#39;</span>,  rs(i));<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><p>Note 2: constructing CasADi Functions inside the loop with CasADi symbols declared outside the loop is forbidden, but inefficient anyway.</p>
<h1 id="implementation-details-and-python">Implementation details and Python</h1>
<p>We did not actually code anything parfor-specific in CasADi.
The reason that CasADi 3.5 supports the construct above now is because we implemented serialization/deserialization of CasADi Functions.</p>
<p>Parfor uses this under the hood to transfer problems/results to/from different threads.
Such mechanism is often encounter for parallelization, for example in Python's multiprocessing module.
In fact, the above code can easily be rewritten for Python:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">from</span> multiprocessing <span style="color:#f92672">import</span> Pool

<span style="color:#f92672">from</span> casadi <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>

N <span style="color:#f92672">=</span> <span style="color:#ae81ff">250</span>
rs <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,N)

x <span style="color:#f92672">=</span> SX<span style="color:#f92672">.</span>sym(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x</span><span style="color:#e6db74">&#39;</span>)
y <span style="color:#f92672">=</span> SX<span style="color:#f92672">.</span>sym(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">y</span><span style="color:#e6db74">&#39;</span>)

v <span style="color:#f92672">=</span> vertcat(x,y)
f <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>x)<span style="color:#f92672">*</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>(y<span style="color:#f92672">-</span>x<span style="color:#f92672">*</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">*</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>
g <span style="color:#f92672">=</span> x<span style="color:#f92672">*</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">+</span>y<span style="color:#f92672">*</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>
nlp <span style="color:#f92672">=</span> {<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">x</span><span style="color:#e6db74">&#39;</span>: v, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span>: f, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">g</span><span style="color:#e6db74">&#39;</span>: g}

<span style="color:#75715e"># Create IPOPT solver object</span>
solver <span style="color:#f92672">=</span> casadi<span style="color:#f92672">.</span>nlpsol(<span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">solver</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74"></span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">ipopt</span><span style="color:#e6db74">&#39;</span>, nlp)

<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">optimize</span>(r):
  res <span style="color:#f92672">=</span> solver(x0<span style="color:#f92672">=</span>[<span style="color:#ae81ff">2.5</span>,<span style="color:#ae81ff">3.0</span>],      <span style="color:#75715e"># solution guess</span>
               lbx<span style="color:#f92672">=</span><span style="color:#f92672">-</span>inf,          <span style="color:#75715e"># lower bound on x</span>
               ubx<span style="color:#f92672">=</span>inf,           <span style="color:#75715e"># upper bound on x</span>
               lbg<span style="color:#f92672">=</span><span style="color:#f92672">-</span>inf,          <span style="color:#75715e"># lower bound on g</span>
               ubg<span style="color:#f92672">=</span>r)         <span style="color:#75715e"># upper bound on g</span>


  <span style="color:#66d9ef">return</span> float(res[<span style="color:#e6db74"></span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span>])

b <span style="color:#f92672">=</span> Pool(<span style="color:#ae81ff">2</span>)
fsol <span style="color:#f92672">=</span> b<span style="color:#f92672">.</span>map(optimize, rs)
</code></pre></div><p>Download code: <a href="casadi_multiprocessing.py">casadi_multiprocessing.py</a></p>
<p>In conclusion, we demonstrated a new way to solve NLPs in parallel with CasADi.
Finally, note that we have an unrelated <a href="https://web.casadi.org/docs/#map">parallelization mechanism</a> to evaluate e.g. constraints of a single NLP in parallel.</p>

      <div class="card-columns">
        
          
            
            <div class="card border-success">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/mpc-simulink2/mpc_diagram.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">CasADi-driven MPC in Simulink (part 2)</h5>
                <p>In this post, we have a new take on nonlinear MPC in Simulink using CasADi.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/mpc-simulink2/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>3 mins</span>

                posted December 19, 2019
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/nlp_sens/nlp_1d.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">Sensitivities of parametric NLP</h5>
                <p>In this post, we explore the parametric sensitivities of a nonlinear program (NLP).
While we use &lsquo;Opti stack&rsquo; syntax for modeling, differentiability of NLP solvers works all the same without Opti.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/nlp_sens/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>3 mins</span>

                posted October 28, 2019
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/parfor/parfor1.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">Parfor</h5>
                <p>In this post we'll explore how to use Matlab's parfor with a CasADi nonlinear program.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/parfor/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>3 mins</span>

                posted August 23, 2018
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/tensorflow/gpflow1d_min.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">Tensorflow and CasADi</h5>
                <p>In this post we'll explore how to couple <a href="https://www.tensorflow.org">Tensorflow</a> and CasADi.
Thanks to Jonas Koch (student @ Applied Mathematics WWU Muenster) for delivering inspiration and example code.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/tensorflow/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>5 mins</span>

                posted July 30, 2018
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
              <div class="card-body">
                <h5 class="card-title">Breaking free of CasADi&#39;s solvers</h5>
                <p>Once you've modeled your optimization problem in CasADi,
you don't have to stick to the solvers we interface.</p>
<p>In this post, we briefly demonstrate how we can make CasADi and Matlab's <code>fmincon</code> cooperate.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/fmincon/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>3 mins</span>

                posted July 13, 2018
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/s-function/simulink.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">CasADi codegen and S-Functions</h5>
                <p>While the <a href="http://docs.casadi.org">user guide</a> does explain code-generation in full detail,
it is handy to have a demonstration in a real environment like Matlab's S-functions.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/s-function/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>3 mins</span>

                posted July 13, 2018
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/nlp-scaling/conv.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">On the importance of NLP scaling</h5>
                <p>During my master's thesis at KULeuven on optimal control, one of the take-aways were that it's important to scale your variables. It helps convergence if the variables are in the order of 0.01 to 100.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/nlp-scaling/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>2 mins</span>

                posted September 15, 2017
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/ocp/hyperworks-industries-architecture-screen-capture-6-726x383.jpg" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">Optimal control problems in a nutshell</h5>
                <p>Optimization.
There's a mathematical term that sounds familiar to the general public.
Everyone can imagine engineers working hard to make your car run 1% more fuel-efficient,
or to slightly increase profit margins for a chemical company.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/ocp/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>5 mins</span>

                posted September 15, 2017
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/opti/rosenbrock1.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">Easy NLP modeling in CasADi with Opti</h5>
                <p><a href="http://install33.casadi.org">Release 3.3.0</a> of CasADi introduced a compact syntax for NLP modeling, using a set of helper classes, collectively known as &lsquo;Opti stack&rsquo;.</p>
<p>In this post, we briefly demonstrates this functionality.</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/opti/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>3 mins</span>

                posted September 14, 2017
              </div>
            </div>
          
        
          
            
            <div class="card">
            
              
                <img class="card-img-top" src="https://asteinh.github.io/casadi.github.io-dev/blog/mpc-simulink/simulink_block.png" alt="Card image cap" />
              
              <div class="card-body">
                <h5 class="card-title">CasADi-driven MPC in Simulink (part 1)</h5>
                <p>CasADi is not a monolithic tool. We can easily couple it to other software to have more fun.
Today we'll be exploring a <em>simple</em> coupling with Simulink. We'll be showing off nonlinear MPC (NMPC).</p>
                <a href="https://asteinh.github.io/casadi.github.io-dev/blog/mpc-simulink/" class="btn btn-primary">Read more</a>
              </div>
              <div class="card-footer text-muted text-right">
                <span class="reading-time-short text-muted"><i class="fa fa-clock-o"></i>4 mins</span>

                posted March 8, 2017
              </div>
            </div>
          
        
          
        
      </div>
    </div>
  </div>
</div>

    <footer>
      <div class="container">
        <div class="row justify-content-md-center">
          <div class="col-md-auto text-center">
            <ul id="social" class="list-inline">
              
                <li class="list-inline-item">
                  <a href="https://github.com/casadi/casadi" title="github">
                    <i class="fa fa-github"></i>
                  </a>
                </li>
              
                <li class="list-inline-item">
                  <a href="https://twitter.com/casadi_software" title="twitter">
                    <i class="fa fa-twitter"></i>
                  </a>
                </li>
              
                <li class="list-inline-item">
                  <a href="https://www.youtube.com/channel/UC3VDpv5Pi3R-a2VkcJN1RLw" title="youtube">
                    <i class="fa fa-youtube"></i>
                  </a>
                </li>
              
            </ul>
            <p class="copyright">Copyright 2020.</p>
          </div>
        </div>
      </div>
    </footer>

    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

    
    <script src="https://asteinh.github.io/casadi.github.io-dev/_js/bootstrap.min.js"></script>

    
    <script src="https://asteinh.github.io/casadi.github.io-dev/_js/scripts.js"></script>

    
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-AMS_CHTML">
</script>

    
  </body>

</html>

